<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Journal Form</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <link rel="stylesheet" href="css/journalForm.css">

</head>

<body>
    <!--header and navigation-->
    <header class="bg-white text-dark shadow-sm py-3" style="position: fixed; top: 0; width: 100%; z-index: 10;">
        <div class="container d-flex justify-content-between align-items-center">
            <div class="d-flex align-items-center">
                <img src="img/back.png" alt="Back" 
                 id="backButton"
                 style="width: 30px; height: 30px; cursor: pointer; margin-right: 5px;">

                <img src="img/logo.webp" alt="Logo" 
                     class="rounded-circle border shadow-sm mr-3" 
                     style="width: 60px; height: 60px; object-fit: cover;">
                <h1 class="font-weight-bold text-uppercase m-0" 
                    style="font-family: 'Arial', sans-serif; font-size: 36px; 
                        text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);">
                    TripTact
                </h1>
            </div>
            <button class="navbar-toggler" type="button" onclick="toggleNav()">
                <img src="img/control.gif" alt="Toggle" class="navbar-toggler-icon">
            </button>
        </div>
    </header>

    <div id="sideNav">
        <div class="welcome-container">
            <p>Welcome</p>
            <img src="img/smile.png" alt="Smile" />
        </div>

        <a href="javascript:void(0)" class="close-btn" onclick="closeNav()">&times;</a>
        <a href="travel.html">
            <img src="img/hotel.gif" alt="Travel">
            Travel
        </a>
        <a href="displayJournal.html">
            <img src="img/journal.gif" alt="Journal">
            Journal
        </a>
        <a href="myTrip.html">
            <img src="img/cart.gif" alt="MyTrip">
            MyTrip
        </a>
        <a href="profile.html">
            <img src="img/user.gif" alt="Profile">
            Profile
        </a>
    </div> 

    <!--title-->
<div class="container mt-5">
    <h2>Travel Journal</h2>
    <form id="journalForm">
        <div class="form-group">
            <label for="attraction_name">Place Name</label>
            <input type="text" id="attraction_name" class="form-control" readonly>
        </div>

        <div class="form-group">
            <label for="state_name">State</label>
            <input type="text" id="state_name" class="form-control" readonly>
        </div>

        <div class="form-group">
            <label for="country_name">Country</label>
            <input type="text" id="country_name" class="form-control" readonly>
        </div>

        <div class="form-group">
            <label for="travel_date">Date of Travel</label>
            <input type="date" id="travel_date" class="form-control">
        </div>

        <div class="form-group">
            <label for="feeling">How do you feel?</label>
            <select id="feeling" class="form-control">
                <option>Happy</option>
                <option>Satisfied</option>
                <option>Sad</option>
                <option>Excited</option>
                <option>Relaxed</option>
            </select>
        </div>

        <div class="form-group">
            <label for="impression">Impression</label>
            <textarea id="impression" class="form-control" rows="3"></textarea>
        </div>


<!-- Spending fields for each category -->
<div class="form-group">
    <label for="food_spending">Food Spending</label>
    <input type="number" id="food_spending" class="form-control" value="0" min="0" step="any" oninput="updateSpendingTotal()">
</div>

<div class="form-group">
    <label for="transport_spending">Transport Spending</label>
    <input type="number" id="transport_spending" class="form-control" value="0" min="0" step="any" oninput="updateSpendingTotal()">
</div>

<div class="form-group">
    <label for="other_spending">Other Spending</label>
    <input type="number" id="other_spending" class="form-control" value="0" min="0" step="any" oninput="updateSpendingTotal()">
</div>

  <div class="form-group">
            <label for="spending_amount">Total Spending Amount</label>
            <div class="d-flex align-items-center">
                <select id="currency" class="form-control" style="width: 100px;">
                    <!-- Currency options will be dynamically loaded here -->
                </select>
                <input type="number" id="spending_amount" class="form-control" placeholder="Amount spent" min="0" step="any">
                <button type="button" class="btn btn-success ml-2" id="convertBtn"><i class="fa fa-exchange"></i> Convert</button>
            </div>
        </div>

        <div class="form-group">
            <label for="converted_amount">Converted Amount</label>
            <div class="d-flex align-items-center">
                <select id="convert_to_currency" class="form-control" style="width: 100px;">
                    <!-- Currency options will be dynamically loaded here -->
                </select>
                <input type="text" id="converted_amount" class="form-control" readonly placeholder="Converted amount">
            </div>
        </div>


        <!--Camera-->
   <div class="container mt-5">
    <h2>Capture and Save Image</h2>

    <!-- Button to start video stream -->
    <button id="startCamera" class="btn btn-primary">Start Camera</button>

    <!-- Video feed -->
    <div class="mt-3">
        <video id="cameraFeed" width="100%" height="auto" autoplay></video>
    </div>

    <!-- Button to capture image -->
    <button id="captureButton" class="btn btn-success mt-3">Capture Image</button>

    <!-- Image capture naming and preview -->
    <div id="imageSaveContainer" style="display: none;" class="mt-3">
        <h4>Save Captured Image</h4>
        <img id="capturedImage" src="" alt="Captured Image" width="100%" />
        <div class="mt-2">
            <label for="imageName">Image Name:</label>
            <input type="text" id="imageName" class="form-control" placeholder="Enter image name">
        </div>
    </div>

    <!-- Error messages -->
    <div id="cameraError" class="text-danger mt-2" style="display: none;">
        Unable to access your camera. Please check permissions.
    </div>

            <button id="updateButton" class="btn btn-primary mt-3">UPDATE</button>

    <script src="js/editJournal.js"></script>
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
</body>
</html>